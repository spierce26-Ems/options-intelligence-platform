<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Options Trading Intelligence Platform - Institutional-Grade Signals</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/ios-style.css">
    <link rel="stylesheet" href="css/dtp-theme.css">
    <link href="https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700;800&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-chart-line"></i>
                    <h1>Options Intelligence</h1>
                </div>
                <div class="header-info">
                    <div class="market-status" id="marketStatus">
                        <span class="status-dot"></span>
                        <span class="status-text">Market Closed</span>
                    </div>
                    <div class="last-updated" id="lastUpdated">
                        Last Updated: --:--
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Alert Banner for Top Signals -->
    <div class="alert-banner" id="alertBanner" style="display: none;">
        <div class="container">
            <div class="alert-content">
                <i class="fas fa-exclamation-triangle"></i>
                <span id="alertText"></span>
            </div>
        </div>
    </div>

    <!-- Navigation Tabs -->
    <nav class="tab-navigation">
        <div class="container">
            <div class="tabs">
                <button class="tab-btn active" data-tab="hotpicks">
                    <i class="fas fa-fire"></i> Hot Picks
                </button>
                <button class="tab-btn" data-tab="ticker-search">
                    <i class="fas fa-search-dollar"></i> Search Ticker
                </button>
                <button class="tab-btn" data-tab="scanner">
                    <i class="fas fa-search"></i> Scanner
                </button>
                <button class="tab-btn" data-tab="signals">
                    <i class="fas fa-signal"></i> Signals
                </button>
                <button class="tab-btn" data-tab="greeks">
                    <i class="fas fa-calculator"></i> Greeks
                </button>
                <button class="tab-btn" data-tab="strategies">
                    <i class="fas fa-chess"></i> Strategies
                </button>
                <button class="tab-btn" data-tab="flow">
                    <i class="fas fa-water"></i> Flow
                </button>
                <button class="tab-btn" data-tab="portfolio">
                    <i class="fas fa-wallet"></i> Portfolio
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            
            <!-- Hot Picks Tab (NEW) -->
            <div id="hotpicks" class="tab-content active">
                <div class="page-header">
                    <h2><i class="fas fa-fire"></i> üî• Today's Hot Picks</h2>
                    <p>AI-Powered Daily Recommendations for Maximum Returns</p>
                </div>

                <!-- Daily Summary -->
                <div class="ios-card hot-picks-summary">
                    <div class="summary-header">
                        <div class="summary-icon">
                            <i class="fas fa-rocket"></i>
                        </div>
                        <div class="summary-text">
                            <h3>Daily Market Outlook</h3>
                            <p id="marketOutlook">Analyzing market conditions...</p>
                        </div>
                    </div>
                    <div class="summary-metrics">
                        <div class="summary-metric">
                            <span class="metric-label">Opportunities Found</span>
                            <span class="metric-value" id="opportunitiesCount">0</span>
                        </div>
                        <div class="summary-metric">
                            <span class="metric-label">Avg Return Potential</span>
                            <span class="metric-value positive" id="avgReturn">0%</span>
                        </div>
                        <div class="summary-metric">
                            <span class="metric-label">Best Time Frame</span>
                            <span class="metric-value" id="bestTimeframe">-</span>
                        </div>
                    </div>
                </div>

                <!-- Time Frame Selector -->
                <div class="ios-card">
                    <h3><i class="fas fa-clock"></i> Select Time Frame</h3>
                    <div class="timeframe-selector">
                        <button class="timeframe-btn active" data-timeframe="short">
                            <i class="fas fa-bolt"></i>
                            <span>Short Term</span>
                            <small>1-7 Days</small>
                        </button>
                        <button class="timeframe-btn" data-timeframe="medium">
                            <i class="fas fa-calendar-alt"></i>
                            <span>Medium Term</span>
                            <small>1-4 Weeks</small>
                        </button>
                        <button class="timeframe-btn" data-timeframe="long">
                            <i class="fas fa-calendar-check"></i>
                            <span>Long Term</span>
                            <small>1-3 Months</small>
                        </button>
                    </div>
                </div>

                <!-- Top 10 Hot Picks -->
                <div class="ios-card">
                    <div class="card-header-ios">
                        <h3><i class="fas fa-trophy"></i> Top 10 Opportunities Today</h3>
                        <button class="refresh-btn" onclick="refreshHotPicks()">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>
                    <div id="hotPicksList" class="hot-picks-list">
                        <div class="loading-ios">
                            <div class="spinner-ios"></div>
                            <p>Analyzing 1000+ options with AI algorithms...</p>
                        </div>
                    </div>
                </div>

                <!-- Detailed Analysis -->
                <div class="ios-card" id="detailedAnalysis" style="display: none;">
                    <h3><i class="fas fa-chart-line"></i> Detailed Analysis</h3>
                    <div id="analysisContent"></div>
                </div>

                <!-- Backtesting Results -->
                <div class="ios-card">
                    <h3><i class="fas fa-history"></i> Backtesting Performance</h3>
                    <div class="backtest-grid">
                        <div class="backtest-metric">
                            <div class="backtest-icon success">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="backtest-info">
                                <span class="backtest-label">Win Rate (30 Days)</span>
                                <span class="backtest-value" id="winRate30">0%</span>
                            </div>
                        </div>
                        <div class="backtest-metric">
                            <div class="backtest-icon primary">
                                <i class="fas fa-dollar-sign"></i>
                            </div>
                            <div class="backtest-info">
                                <span class="backtest-label">Avg Return</span>
                                <span class="backtest-value" id="avgReturnBacktest">0%</span>
                            </div>
                        </div>
                        <div class="backtest-metric">
                            <div class="backtest-icon warning">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <div class="backtest-info">
                                <span class="backtest-label">Max Drawdown</span>
                                <span class="backtest-value" id="maxDrawdown">0%</span>
                            </div>
                        </div>
                        <div class="backtest-metric">
                            <div class="backtest-icon info">
                                <i class="fas fa-bullseye"></i>
                            </div>
                            <div class="backtest-info">
                                <span class="backtest-label">Sharpe Ratio</span>
                                <span class="backtest-value" id="sharpeRatio">0.0</span>
                            </div>
                        </div>
                    </div>
                    <canvas id="backtestChart" style="height: 300px; margin-top: 20px;"></canvas>
                </div>
            </div>
            
            <!-- Ticker Search Tab (NEW) -->
            <div id="ticker-search" class="tab-content">
                <div class="page-header">
                    <h2><i class="fas fa-search-dollar"></i> üîç Analyze Any Ticker</h2>
                    <p>Deep-dive options analysis for your specific stock</p>
                </div>

                <!-- Search Box -->
                <div class="ios-card ticker-search-box">
                    <div class="search-container">
                        <input 
                            type="text" 
                            id="tickerSearchInput" 
                            placeholder="Enter ticker symbol (e.g., AAPL, TSLA, NVDA...)" 
                            class="ticker-input"
                            onkeypress="if(event.key==='Enter') searchTicker()"
                        />
                        <button class="search-btn" onclick="searchTicker()">
                            <i class="fas fa-search"></i> Analyze
                        </button>
                    </div>
                    <div class="search-hints">
                        <strong>Popular tickers:</strong>
                        <button class="hint-btn" onclick="document.getElementById('tickerSearchInput').value='AAPL'; searchTicker()">AAPL</button>
                        <button class="hint-btn" onclick="document.getElementById('tickerSearchInput').value='TSLA'; searchTicker()">TSLA</button>
                        <button class="hint-btn" onclick="document.getElementById('tickerSearchInput').value='NVDA'; searchTicker()">NVDA</button>
                        <button class="hint-btn" onclick="document.getElementById('tickerSearchInput').value='SPY'; searchTicker()">SPY</button>
                        <button class="hint-btn" onclick="document.getElementById('tickerSearchInput').value='QQQ'; searchTicker()">QQQ</button>
                    </div>
                </div>

                <!-- Data Source Info -->
                <div class="ios-card data-source-info">
                    <h3><i class="fas fa-database"></i> Data Source Configuration</h3>
                    <p class="info-text">
                        <strong>Current Status:</strong> <span id="dataSourceStatus">Using simulated data</span>
                    </p>
                    <p class="info-text">
                        To get <strong>real-time options data</strong>, configure an API key below:
                    </p>
                    <div class="api-config">
                        <select id="apiProvider" class="api-select">
                            <option value="yahoo">Yahoo Finance (Free, Limited)</option>
                            <option value="tradier">Tradier (Free Sandbox)</option>
                            <option value="tdameritrade">TD Ameritrade (Free)</option>
                            <option value="polygon">Polygon.io ($49/mo)</option>
                        </select>
                        <input 
                            type="text" 
                            id="apiKeyInput" 
                            placeholder="Enter API key (leave empty for Yahoo)" 
                            class="api-input"
                        />
                        <button class="action-btn primary" onclick="configureAPI()">
                            <i class="fas fa-plug"></i> Connect
                        </button>
                    </div>
                    <details class="api-help">
                        <summary>How to get API keys</summary>
                        <ul>
                            <li><strong>Yahoo Finance:</strong> No key needed, but limited data</li>
                            <li><strong>Tradier:</strong> Free sandbox at <a href="https://tradier.com" target="_blank">tradier.com</a></li>
                            <li><strong>TD Ameritrade:</strong> Free with account at <a href="https://developer.tdameritrade.com" target="_blank">developer.tdameritrade.com</a></li>
                            <li><strong>Polygon.io:</strong> Paid plans at <a href="https://polygon.io" target="_blank">polygon.io</a></li>
                        </ul>
                    </details>
                </div>

                <!-- Analysis Results -->
                <div id="tickerAnalysisResults">
                    <div class="empty-state-ticker">
                        <i class="fas fa-search-dollar"></i>
                        <h3>Enter a ticker symbol above to start analyzing</h3>
                        <p>Get comprehensive options analysis for any stock</p>
                    </div>
                </div>
            </div>
            
            <!-- Scanner Tab -->
            <div id="scanner" class="tab-content">
                <div class="page-header">
                    <h2><i class="fas fa-search"></i> Options Chain Scanner</h2>
                    <p>Scan 1000+ stocks for the best options opportunities available on Robinhood</p>
                </div>

                <!-- Filters -->
                <div class="card">
                    <h3><i class="fas fa-filter"></i> Scanner Filters</h3>
                    <div class="filters-grid">
                        <div class="filter-group">
                            <label>Min Volume</label>
                            <input type="number" id="minVolume" placeholder="1000" value="1000">
                        </div>
                        <div class="filter-group">
                            <label>Min Open Interest</label>
                            <input type="number" id="minOI" placeholder="500" value="500">
                        </div>
                        <div class="filter-group">
                            <label>IV Rank</label>
                            <select id="ivRank">
                                <option value="all">All</option>
                                <option value="high">High (>75)</option>
                                <option value="medium">Medium (50-75)</option>
                                <option value="low">Low (<50)</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label>Days to Expiration</label>
                            <select id="dteFilter">
                                <option value="all">All</option>
                                <option value="0-7">0-7 days</option>
                                <option value="8-30">8-30 days</option>
                                <option value="31-60">31-60 days</option>
                                <option value="60+">60+ days</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label>Option Type</label>
                            <select id="optionType">
                                <option value="all">All</option>
                                <option value="calls">Calls Only</option>
                                <option value="puts">Puts Only</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label>Signal Type</label>
                            <select id="signalType">
                                <option value="all">All Signals</option>
                                <option value="unusual">Unusual Activity</option>
                                <option value="earnings">Earnings Plays</option>
                                <option value="volatility">Volatility</option>
                                <option value="technical">Technical</option>
                            </select>
                        </div>
                    </div>
                    <button class="btn btn-primary" id="scanBtn">
                        <i class="fas fa-sync"></i> Scan Options
                    </button>
                </div>

                <!-- Top Opportunities -->
                <div class="card">
                    <h3><i class="fas fa-trophy"></i> Top Opportunities Today</h3>
                    <div id="topOpportunities" class="opportunities-grid">
                        <div class="loading">Scanning options chains...</div>
                    </div>
                </div>

                <!-- Scanner Results Table -->
                <div class="card">
                    <h3><i class="fas fa-table"></i> Scanner Results</h3>
                    <div class="table-responsive">
                        <table class="data-table" id="scannerTable">
                            <thead>
                                <tr>
                                    <th>Symbol</th>
                                    <th>Strike</th>
                                    <th>Type</th>
                                    <th>Exp</th>
                                    <th>Bid/Ask</th>
                                    <th>IV</th>
                                    <th>Delta</th>
                                    <th>Volume</th>
                                    <th>OI</th>
                                    <th>Signal</th>
                                    <th>Score</th>
                                </tr>
                            </thead>
                            <tbody id="scannerResults">
                                <tr><td colspan="11" class="loading">Run scanner to see results</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Signals Tab -->
            <div id="signals" class="tab-content">
                <div class="page-header">
                    <h2><i class="fas fa-signal"></i> Trading Signals</h2>
                    <p>Institutional-grade algorithmic trading signals</p>
                </div>

                <!-- Signal Categories -->
                <div class="signals-grid">
                    <!-- Unusual Activity -->
                    <div class="card signal-card">
                        <h3><i class="fas fa-fire"></i> Unusual Options Activity</h3>
                        <div class="signal-list" id="unusualActivity">
                            <div class="loading">Loading signals...</div>
                        </div>
                    </div>

                    <!-- Volatility Signals -->
                    <div class="card signal-card">
                        <h3><i class="fas fa-bolt"></i> Volatility Signals</h3>
                        <div class="signal-list" id="volatilitySignals">
                            <div class="loading">Loading signals...</div>
                        </div>
                    </div>

                    <!-- Earnings Plays -->
                    <div class="card signal-card">
                        <h3><i class="fas fa-calendar-alt"></i> Earnings Plays</h3>
                        <div class="signal-list" id="earningsPlays">
                            <div class="loading">Loading signals...</div>
                        </div>
                    </div>

                    <!-- Technical Signals -->
                    <div class="card signal-card">
                        <h3><i class="fas fa-chart-bar"></i> Technical Signals</h3>
                        <div class="signal-list" id="technicalSignals">
                            <div class="loading">Loading signals...</div>
                        </div>
                    </div>
                </div>

                <!-- Detailed Signals Table -->
                <div class="card">
                    <h3><i class="fas fa-list"></i> All Signals</h3>
                    <div class="table-responsive">
                        <table class="data-table" id="signalsTable">
                            <thead>
                                <tr>
                                    <th>Time</th>
                                    <th>Symbol</th>
                                    <th>Signal Type</th>
                                    <th>Description</th>
                                    <th>Strength</th>
                                    <th>Action</th>
                                    <th>Target</th>
                                </tr>
                            </thead>
                            <tbody id="signalsResults">
                                <tr><td colspan="7" class="loading">Loading signals...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Greeks Tab -->
            <div id="greeks" class="tab-content">
                <div class="page-header">
                    <h2><i class="fas fa-calculator"></i> Options Greeks Analysis</h2>
                    <p>Advanced Greeks calculations and risk metrics</p>
                </div>

                <!-- Greeks Dashboard -->
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-icon delta"><i class="fas fa-arrow-trend-up"></i></div>
                        <div class="metric-info">
                            <h4>High Delta Plays</h4>
                            <div class="metric-value" id="deltaCount">0</div>
                            <div class="metric-label">Opportunities</div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon gamma"><i class="fas fa-rocket"></i></div>
                        <div class="metric-info">
                            <h4>Gamma Squeeze Potential</h4>
                            <div class="metric-value" id="gammaCount">0</div>
                            <div class="metric-label">High Risk Stocks</div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon theta"><i class="fas fa-clock"></i></div>
                        <div class="metric-info">
                            <h4>Theta Decay Plays</h4>
                            <div class="metric-value" id="thetaCount">0</div>
                            <div class="metric-label">Premium Sellers</div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon vega"><i class="fas fa-wind"></i></div>
                        <div class="metric-info">
                            <h4>Vega Opportunities</h4>
                            <div class="metric-value" id="vegaCount">0</div>
                            <div class="metric-label">IV Plays</div>
                        </div>
                    </div>
                </div>

                <!-- Greeks Analysis Table -->
                <div class="card">
                    <h3><i class="fas fa-table"></i> Greeks-Based Opportunities</h3>
                    <div class="table-responsive">
                        <table class="data-table" id="greeksTable">
                            <thead>
                                <tr>
                                    <th>Symbol</th>
                                    <th>Strike</th>
                                    <th>Type</th>
                                    <th>Delta</th>
                                    <th>Gamma</th>
                                    <th>Theta</th>
                                    <th>Vega</th>
                                    <th>Strategy</th>
                                    <th>Risk/Reward</th>
                                </tr>
                            </thead>
                            <tbody id="greeksResults">
                                <tr><td colspan="9" class="loading">Loading Greeks analysis...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Strategies Tab -->
            <div id="strategies" class="tab-content">
                <div class="page-header">
                    <h2><i class="fas fa-chess"></i> Options Strategies</h2>
                    <p>Pre-built strategies for every market condition</p>
                </div>

                <!-- Strategy Cards -->
                <div class="strategies-grid">
                    <div class="card strategy-card">
                        <h3><i class="fas fa-shield-alt"></i> Credit Spreads</h3>
                        <p>High probability income generation</p>
                        <div class="strategy-stats">
                            <div class="stat">
                                <span class="label">Win Rate:</span>
                                <span class="value">65-75%</span>
                            </div>
                            <div class="stat">
                                <span class="label">Best When:</span>
                                <span class="value">Sideways/Slight Trend</span>
                            </div>
                        </div>
                        <button class="btn btn-secondary" onclick="showStrategy('credit-spread')">
                            View Opportunities
                        </button>
                    </div>

                    <div class="card strategy-card">
                        <h3><i class="fas fa-bullseye"></i> Iron Condors</h3>
                        <p>Range-bound profit strategy</p>
                        <div class="strategy-stats">
                            <div class="stat">
                                <span class="label">Win Rate:</span>
                                <span class="value">60-70%</span>
                            </div>
                            <div class="stat">
                                <span class="label">Best When:</span>
                                <span class="value">Low Volatility</span>
                            </div>
                        </div>
                        <button class="btn btn-secondary" onclick="showStrategy('iron-condor')">
                            View Opportunities
                        </button>
                    </div>

                    <div class="card strategy-card">
                        <h3><i class="fas fa-fire"></i> Straddles</h3>
                        <p>Profit from big moves (any direction)</p>
                        <div class="strategy-stats">
                            <div class="stat">
                                <span class="label">Win Rate:</span>
                                <span class="value">40-50%</span>
                            </div>
                            <div class="stat">
                                <span class="label">Best When:</span>
                                <span class="value">Earnings/Events</span>
                            </div>
                        </div>
                        <button class="btn btn-secondary" onclick="showStrategy('straddle')">
                            View Opportunities
                        </button>
                    </div>

                    <div class="card strategy-card">
                        <h3><i class="fas fa-calendar"></i> Calendar Spreads</h3>
                        <p>Profit from time decay differences</p>
                        <div class="strategy-stats">
                            <div class="stat">
                                <span class="label">Win Rate:</span>
                                <span class="value">55-65%</span>
                            </div>
                            <div class="stat">
                                <span class="label">Best When:</span>
                                <span class="value">Neutral Outlook</span>
                            </div>
                        </div>
                        <button class="btn btn-secondary" onclick="showStrategy('calendar-spread')">
                            View Opportunities
                        </button>
                    </div>

                    <div class="card strategy-card">
                        <h3><i class="fas fa-arrow-up"></i> Debit Spreads</h3>
                        <p>Defined risk directional plays</p>
                        <div class="strategy-stats">
                            <div class="stat">
                                <span class="label">Win Rate:</span>
                                <span class="value">50-60%</span>
                            </div>
                            <div class="stat">
                                <span class="label">Best When:</span>
                                <span class="value">Strong Trend</span>
                            </div>
                        </div>
                        <button class="btn btn-secondary" onclick="showStrategy('debit-spread')">
                            View Opportunities
                        </button>
                    </div>

                    <div class="card strategy-card">
                        <h3><i class="fas fa-butterfly"></i> Butterflies</h3>
                        <p>Precise price target bets</p>
                        <div class="strategy-stats">
                            <div class="stat">
                                <span class="label">Win Rate:</span>
                                <span class="value">45-55%</span>
                            </div>
                            <div class="stat">
                                <span class="label">Best When:</span>
                                <span class="value">Low IV + Target</span>
                            </div>
                        </div>
                        <button class="btn btn-secondary" onclick="showStrategy('butterfly')">
                            View Opportunities
                        </button>
                    </div>
                </div>

                <!-- Strategy Results -->
                <div class="card" id="strategyResults" style="display: none;">
                    <h3 id="strategyTitle"><i class="fas fa-list"></i> Strategy Opportunities</h3>
                    <div class="table-responsive">
                        <table class="data-table" id="strategyTable">
                            <thead>
                                <tr>
                                    <th>Symbol</th>
                                    <th>Strategy</th>
                                    <th>Strikes</th>
                                    <th>Max Profit</th>
                                    <th>Max Loss</th>
                                    <th>POP</th>
                                    <th>DTE</th>
                                    <th>Score</th>
                                </tr>
                            </thead>
                            <tbody id="strategyTableBody">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Flow Tab -->
            <div id="flow" class="tab-content">
                <div class="page-header">
                    <h2><i class="fas fa-water"></i> Options Flow Analysis</h2>
                    <p>Track institutional money flow and smart money activity</p>
                </div>

                <!-- Flow Metrics -->
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-icon bullish"><i class="fas fa-arrow-trend-up"></i></div>
                        <div class="metric-info">
                            <h4>Bullish Flow</h4>
                            <div class="metric-value" id="bullishFlow">$0</div>
                            <div class="metric-label">Premium Spent</div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon bearish"><i class="fas fa-arrow-trend-down"></i></div>
                        <div class="metric-info">
                            <h4>Bearish Flow</h4>
                            <div class="metric-value" id="bearishFlow">$0</div>
                            <div class="metric-label">Premium Spent</div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon whale"><i class="fas fa-fish"></i></div>
                        <div class="metric-info">
                            <h4>Whale Trades</h4>
                            <div class="metric-value" id="whaleCount">0</div>
                            <div class="metric-label">Today</div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon sweep"><i class="fas fa-bolt"></i></div>
                        <div class="metric-info">
                            <h4>Sweep Orders</h4>
                            <div class="metric-value" id="sweepCount">0</div>
                            <div class="metric-label">Today</div>
                        </div>
                    </div>
                </div>

                <!-- Flow Table -->
                <div class="card">
                    <h3><i class="fas fa-stream"></i> Live Options Flow</h3>
                    <div class="table-responsive">
                        <table class="data-table" id="flowTable">
                            <thead>
                                <tr>
                                    <th>Time</th>
                                    <th>Symbol</th>
                                    <th>Type</th>
                                    <th>Strike</th>
                                    <th>Exp</th>
                                    <th>Premium</th>
                                    <th>Size</th>
                                    <th>Sentiment</th>
                                    <th>Category</th>
                                </tr>
                            </thead>
                            <tbody id="flowResults">
                                <tr><td colspan="9" class="loading">Loading flow data...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Put/Call Ratio Chart -->
                <div class="card">
                    <h3><i class="fas fa-chart-line"></i> Put/Call Ratio Trend</h3>
                    <canvas id="putCallChart" style="height: 300px;"></canvas>
                </div>
            </div>

            <!-- Portfolio Tab -->
            <div id="portfolio" class="tab-content">
                <div class="page-header">
                    <h2><i class="fas fa-wallet"></i> Options Portfolio Tracker</h2>
                    <p>Track your options positions and performance</p>
                </div>

                <!-- Portfolio Summary -->
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-icon profit"><i class="fas fa-dollar-sign"></i></div>
                        <div class="metric-info">
                            <h4>Total P&L</h4>
                            <div class="metric-value" id="totalPL">$0.00</div>
                            <div class="metric-label" id="plPercent">0.00%</div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon"><i class="fas fa-list"></i></div>
                        <div class="metric-info">
                            <h4>Open Positions</h4>
                            <div class="metric-value" id="openPositions">0</div>
                            <div class="metric-label">Active Trades</div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon"><i class="fas fa-chart-pie"></i></div>
                        <div class="metric-info">
                            <h4>Win Rate</h4>
                            <div class="metric-value" id="winRate">0%</div>
                            <div class="metric-label">Closed Trades</div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon"><i class="fas fa-exclamation-triangle"></i></div>
                        <div class="metric-info">
                            <h4>Total Risk</h4>
                            <div class="metric-value" id="totalRisk">$0</div>
                            <div class="metric-label">Max Loss</div>
                        </div>
                    </div>
                </div>

                <!-- Add Position Form -->
                <div class="card">
                    <h3><i class="fas fa-plus"></i> Add Position</h3>
                    <div class="position-form">
                        <div class="form-grid">
                            <input type="text" id="posSymbol" placeholder="Symbol (e.g., AAPL)">
                            <select id="posType">
                                <option value="call">Call</option>
                                <option value="put">Put</option>
                            </select>
                            <input type="number" id="posStrike" placeholder="Strike Price">
                            <input type="date" id="posExpiration">
                            <input type="number" id="posQuantity" placeholder="Contracts" value="1">
                            <input type="number" id="posPremium" placeholder="Premium Paid" step="0.01">
                        </div>
                        <button class="btn btn-primary" onclick="addPosition()">
                            <i class="fas fa-plus"></i> Add Position
                        </button>
                    </div>
                </div>

                <!-- Positions Table -->
                <div class="card">
                    <h3><i class="fas fa-table"></i> Your Positions</h3>
                    <div class="table-responsive">
                        <table class="data-table" id="portfolioTable">
                            <thead>
                                <tr>
                                    <th>Symbol</th>
                                    <th>Type</th>
                                    <th>Strike</th>
                                    <th>Exp</th>
                                    <th>Qty</th>
                                    <th>Entry</th>
                                    <th>Current</th>
                                    <th>P&L</th>
                                    <th>P&L %</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="portfolioResults">
                                <tr><td colspan="10" class="empty-state">No positions. Add your first trade above!</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="disclaimer">
                    <h4><i class="fas fa-exclamation-triangle"></i> Important Disclaimer</h4>
                    <p><strong>This platform is for educational and informational purposes only.</strong> Options trading involves substantial risk and is not suitable for all investors. Past performance does not guarantee future results. This is not financial advice. Always consult with a licensed financial advisor before making investment decisions. The creators of this platform are not responsible for any financial losses.</p>
                </div>
                <div class="footer-links">
                    <p>&copy; 2026 Options Intelligence Platform | 
                        <a href="#" onclick="showDisclaimer()">Full Disclaimer</a> | 
                        <a href="#" onclick="showAbout()">About</a>
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/expanded-stocks.js"></script>
    <script src="js/realtime-data.js"></script>
    <script src="js/data.js"></script>
    <script src="js/calculations.js"></script>
    <script src="js/signals.js"></script>
    <script src="js/scanner.js"></script>
    <script src="js/hotpicks.js"></script>
    <script src="js/ticker-analyzer.js"></script>
    <script src="js/portfolio.js"></script>
    <script src="js/main.js"></script>
    <script src="js/hotpicks-ui.js"></script>
</body>
</html>
